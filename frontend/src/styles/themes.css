/* Theme Variables */
:root {
  /* Default theme colors (Univar Classic) */
  --color-primary: #ea580c;
  --color-primary-rgb: 234, 88, 12;
  --color-primary-hover: #dc2626;
  --color-primary-light: #fed7aa;
  --color-secondary: #2563eb;
  --color-secondary-rgb: 37, 99, 235;
  --color-secondary-hover: #1d4ed8;
  --color-accent: #f97316;
  --color-accent-rgb: 249, 115, 22;
  --color-success: #059669;
  --color-success-rgb: 5, 150, 105;
  --color-warning: #d97706;
  --color-warning-rgb: 217, 119, 6;
  --color-danger: #dc2626;
  --color-danger-rgb: 220, 38, 38;
  --color-info: #0ea5e9;
  --color-info-rgb: 14, 165, 233;
}

/* Dark mode theme - Modern and elegant */
.dark {
  --color-bg-primary: #0f172a;      /* Slate 900 - Deep dark blue */
  --color-bg-secondary: #1e293b;    /* Slate 800 - Main background */
  --color-bg-tertiary: #334155;     /* Slate 700 - Elevated surfaces */
  --color-bg-card: #1e293b;         /* Card background */
  --color-bg-elevated: #334155;     /* Elevated elements */
  --color-text-primary: #f8fafc;    /* Slate 50 - Primary text */
  --color-text-secondary: #cbd5e1;  /* Slate 300 - Secondary text */
  --color-text-tertiary: #94a3b8;   /* Slate 400 - Tertiary text */
  --color-text-muted: #64748b;      /* Slate 500 - Muted text */
  --color-border: #475569;          /* Slate 600 - Borders */
  --color-border-light: #64748b;    /* Slate 500 - Light borders */
  --color-accent: #1d4ed8;          /* Blue accent */
  color-scheme: dark;
}

/* Light mode theme */
:root:not(.dark) {
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f9fafb;
  --color-bg-tertiary: #f3f4f6;
  --color-text-primary: #111827;
  --color-text-secondary: #6b7280;
  --color-text-tertiary: #9ca3af;
  --color-border: #e5e7eb;
  --color-border-light: #f3f4f6;
  color-scheme: light;
}

/* Theme-aware utility classes */
.theme-bg-primary {
  background-color: var(--color-bg-primary);
}

.theme-bg-secondary {
  background-color: var(--color-bg-secondary);
}

.theme-bg-tertiary {
  background-color: var(--color-bg-tertiary);
}

.theme-text-primary {
  color: var(--color-text-primary);
}

.theme-text-secondary {
  color: var(--color-text-secondary);
}

.theme-text-tertiary {
  color: var(--color-text-tertiary);
}

.theme-border {
  border-color: var(--color-border);
}

/* Dynamic theme color utilities */
.text-theme-primary {
  color: var(--color-primary) !important;
}

.text-theme-secondary {
  color: var(--color-secondary) !important;
}

.bg-theme-primary {
  background-color: var(--color-primary) !important;
}

.bg-theme-secondary {
  background-color: var(--color-secondary) !important;
}

.bg-theme-primary-light {
  background-color: rgba(var(--color-primary-rgb), 0.1) !important;
}

.bg-theme-secondary-light {
  background-color: rgba(var(--color-secondary-rgb), 0.1) !important;
}

.border-theme-primary {
  border-color: var(--color-primary) !important;
}

.border-theme-secondary {
  border-color: var(--color-secondary) !important;
}

.ring-theme-primary {
  --tw-ring-color: rgba(var(--color-primary-rgb), 0.5) !important;
}

.focus\:ring-theme-primary:focus {
  --tw-ring-color: rgba(var(--color-primary-rgb), 0.5) !important;
}

/* Common blue color replacements */
.text-blue-500, .text-blue-600 {
  color: var(--color-primary) !important;
}

.bg-blue-50 {
  background-color: rgba(var(--color-primary-rgb), 0.1) !important;
}

.bg-blue-500, .bg-blue-600 {
  background-color: var(--color-primary) !important;
}

.border-blue-500, .border-blue-600 {
  border-color: var(--color-primary) !important;
}

.focus\:ring-blue-500:focus, .focus\:border-blue-500:focus {
  --tw-ring-color: rgba(var(--color-primary-rgb), 0.5) !important;
  border-color: var(--color-primary) !important;
}

/* Dark mode overrides for charts and cards */
.dark .bg-white {
  background: var(--color-bg-card) !important;
  border: 1px solid var(--color-border) !important;
}

.dark .text-gray-800, .dark .text-gray-900 {
  color: var(--color-text-primary) !important;
}

.dark .text-gray-600, .dark .text-gray-700 {
  color: var(--color-text-secondary) !important;
}

.dark .text-gray-500 {
  color: var(--color-text-tertiary) !important;
}

/* Dark mode for chart containers */
.dark .shadow-lg {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.7), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

/* Hover utilities */
.hover\:theme-bg-secondary:hover {
  background-color: var(--color-bg-secondary);
}

.hover\:theme-text-primary:hover {
  color: var(--color-primary);
}

/* Custom button styles using theme variables */
.btn-theme-primary {
  background-color: var(--color-primary);
  color: white;
  transition: background-color 0.2s ease;
}

.btn-theme-primary:hover {
  background-color: var(--color-primary-hover);
}

.btn-theme-primary:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.5);
  outline: none;
}

.btn-theme-secondary {
  background-color: var(--color-secondary);
  color: white;
  transition: background-color 0.2s ease;
}

.btn-theme-secondary:hover {
  background-color: var(--color-secondary-hover);
}

.btn-theme-secondary:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.5);
  outline: none;
}

/* Navigation styles */
.nav-item-active {
  background: linear-gradient(90deg, 
    rgba(var(--color-primary-rgb), 0.12) 0%, 
    rgba(var(--color-primary-rgb), 0.08) 100%);
  color: var(--color-primary);
  border-right: 3px solid var(--color-primary);
  box-shadow: inset 4px 0 0 var(--color-primary);
  font-weight: 600;
  transition: all 0.2s ease;
}

.nav-item:hover {
  background: linear-gradient(90deg, 
    rgba(var(--color-primary-rgb), 0.06) 0%, 
    rgba(var(--color-primary-rgb), 0.03) 100%);
  color: var(--color-primary);
  transition: all 0.2s ease;
}

.nav-item {
  transition: all 0.2s ease;
}

/* Card styles with theme support */
.theme-card {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

.theme-card-hover:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
  transition: all 0.2s ease;
}

/* Form inputs with theme support */
.theme-input {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.theme-input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(234, 88, 12, 0.1);
}

.theme-input:disabled {
  background-color: var(--color-bg-secondary);
  cursor: not-allowed;
}

.theme-input::placeholder {
  color: var(--color-text-tertiary);
}

/* Form validation styles */
.form-error .theme-input {
  border-color: var(--color-danger);
}

.form-error .theme-input:focus {
  border-color: var(--color-danger);
  box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.1);
}

/* Form groups and layouts */
.form-group {
  margin-bottom: 1.5rem;
}

.form-row {
  display: grid;
  gap: 1rem;
}

/* Enhanced button hover states */
.btn-theme-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-theme-secondary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Status badges using theme colors */
.badge-primary {
  background-color: var(--color-primary) !important;
  color: white !important;
}

.badge-primary:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.5);
  outline: none;
}

.badge-success {
  background-color: var(--color-success);
  color: white;
}

.badge-success:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-success-rgb), 0.5);
  outline: none;
}

.badge-warning {
  background-color: var(--color-warning);
  color: white;
}

.badge-warning:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-warning-rgb), 0.5);
  outline: none;
}

.badge-danger {
  background-color: var(--color-danger);
  color: white;
}

.badge-danger:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-danger-rgb), 0.5);
  outline: none;
}

.badge-info {
  background-color: var(--color-info);
  color: white;
}

.badge-info:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-info-rgb), 0.5);
  outline: none;
}

/* Smooth transitions for theme changes */
* {
  transition-property: background-color, border-color, color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}

/* Override transitions for specific elements that shouldn't animate */
.no-theme-transition,
.no-theme-transition * {
  transition: none !important;
}

/* Dark mode specific styles */
.dark {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.dark body {
  background: linear-gradient(135deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 100%);
  color: var(--color-text-primary);
  min-height: 100vh;
}

.dark .bg-white {
  background-color: var(--color-bg-card) !important;
  border: 1px solid var(--color-border) !important;
}

.dark .bg-gray-50 {
  background-color: var(--color-bg-secondary) !important;
}

.dark .bg-gray-100 {
  background-color: var(--color-bg-elevated) !important;
}

.dark .text-gray-900 {
  color: var(--color-text-primary) !important;
}

.dark .text-gray-800 {
  color: var(--color-text-primary) !important;
}

.dark .text-gray-700 {
  color: var(--color-text-secondary) !important;
}

.dark .text-gray-600,
.dark .text-gray-500 {
  color: var(--color-text-secondary) !important;
}

.dark .text-gray-400 {
  color: var(--color-text-tertiary) !important;
}

.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: var(--color-border) !important;
}

.dark .border-gray-100 {
  border-color: var(--color-border-light) !important;
}

/* Dark mode for cards and containers */
.dark .shadow-sm {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.5), 0 1px 3px 0 rgba(0, 0, 0, 0.1);
}

.dark .shadow {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.dark .shadow-md {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.6), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.dark .shadow-lg {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.7), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.dark .shadow-xl {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
}

/* Dark mode hover states */
.dark .hover\\:bg-gray-50:hover {
  background-color: var(--color-bg-elevated) !important;
  transition: background-color 0.2s ease;
}

.dark .hover\\:bg-gray-100:hover {
  background-color: var(--color-bg-tertiary) !important;
  transition: background-color 0.2s ease;
}

/* Enhanced dark mode interactions */
.dark .hover\\:shadow-lg:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.8), 0 10px 10px -5px rgba(0, 0, 0, 0.1) !important;
  transition: box-shadow 0.3s ease;
}

/* Dark mode for specific UI elements */
.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: var(--color-border);
}

/* Dark mode for inputs and form elements */
.dark input,
.dark select,
.dark textarea {
  background-color: var(--color-bg-primary) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
  transition: all 0.2s ease !important;
}

.dark input:hover,
.dark select:hover,
.dark textarea:hover {
  border-color: var(--color-border-light) !important;
  background-color: var(--color-bg-elevated) !important;
}

.dark input::placeholder,
.dark select::placeholder,
.dark textarea::placeholder {
  color: var(--color-text-muted) !important;
}

.dark input:focus,
.dark select:focus,
.dark textarea:focus {
  border-color: var(--color-primary) !important;
  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.3) !important;
  background-color: var(--color-bg-card) !important;
}

/* Dark mode for navigation */
.dark .nav-item-active {
  background: linear-gradient(90deg, 
    rgba(var(--color-primary-rgb), 0.18) 0%, 
    rgba(var(--color-primary-rgb), 0.12) 100%);
  color: var(--color-primary);
  border-right: 3px solid var(--color-primary);
  box-shadow: inset 4px 0 0 var(--color-primary);
  font-weight: 600;
}

.dark .nav-item:hover {
  background: linear-gradient(90deg, 
    rgba(var(--color-primary-rgb), 0.10) 0%, 
    rgba(var(--color-primary-rgb), 0.06) 100%);
  color: var(--color-primary);
}

/* Dark mode for buttons */
.dark .btn-theme-primary {
  background-color: var(--color-primary);
  color: white;
}

.dark .btn-theme-primary:hover {
  background-color: var(--color-primary-hover);
}

.dark .btn-theme-secondary {
  background-color: var(--color-secondary);
  color: white;
}

.dark .btn-theme-secondary:hover {
  background-color: var(--color-secondary-hover);
}

/* Dark mode for table elements */
.dark thead {
  background-color: var(--color-bg-elevated) !important;
  border-bottom: 2px solid var(--color-border) !important;
}

.dark tbody tr {
  background-color: var(--color-bg-card) !important;
  border-bottom: 1px solid var(--color-border) !important;
  transition: background-color 0.2s ease;
}

.dark tbody tr:hover {
  background-color: var(--color-bg-elevated) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.dark tbody tr:nth-child(even) {
  background-color: rgba(var(--color-primary-rgb), 0.02) !important;
}

/* Dark mode for modal and overlay elements */
.dark .fixed.inset-0.bg-black.bg-opacity-50 {
  background: rgba(0, 0, 0, 0.85) !important;
  backdrop-filter: blur(4px) !important;
}

.dark .modal-content {
  background-color: var(--color-bg-card) !important;
  border: 1px solid var(--color-border) !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.9) !important;
}

/* Dark mode for dropdowns and select elements */
.dark select option {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
}

/* Dark mode for scrollbars */
.dark ::-webkit-scrollbar-track {
  background-color: var(--color-bg-secondary);
}

.dark ::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-primary);
}

/* Dark mode for badges and status indicators */
.dark .badge-success {
  background-color: var(--color-success);
  color: white;
}

.dark .badge-warning {
  background-color: var(--color-warning);
  color: white;
}

.dark .badge-danger {
  background-color: var(--color-danger);
  color: white;
}

.dark .badge-info {
  background-color: var(--color-info);
  color: white;
}

/* Dark mode overrides for Tailwind badge colors */
.dark .bg-green-100 {
  background-color: rgba(5, 150, 105, 0.2) !important;
}

.dark .text-green-800 {
  color: #10b981 !important;
}

.dark .bg-yellow-100 {
  background-color: rgba(217, 119, 6, 0.2) !important;
}

.dark .text-yellow-800 {
  color: #f59e0b !important;
}

.dark .bg-red-100 {
  background-color: rgba(220, 38, 38, 0.2) !important;
}

.dark .text-red-800 {
  color: #ef4444 !important;
}

.dark .bg-blue-100 {
  background-color: rgba(14, 165, 233, 0.2) !important;
}

.dark .text-blue-800 {
  color: #3b82f6 !important;
}

.dark .bg-gray-100 {
  background-color: rgba(107, 114, 128, 0.2) !important;
}

.dark .text-gray-800 {
  color: #d1d5db !important;
}

/* Dark mode for loading states */
.dark .animate-spin {
  opacity: 0.8;
}

/* Dark mode improvements for text contrast */
.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
  color: var(--color-text-primary) !important;
}

.dark p {
  color: var(--color-text-secondary) !important;
}

.dark span {
  color: inherit !important;
}

/* Dark mode for specific component overrides */
.dark .rounded-lg,
.dark .rounded-xl {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Dark mode glassmorphism effects */
.dark .glass-card {
  background: rgba(15, 23, 42, 0.7) !important;
  backdrop-filter: blur(12px) saturate(200%) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6) !important;
}

.dark .glass-sidebar {
  background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.9)) !important;
  backdrop-filter: blur(16px) saturate(180%) !important;
  border-right: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Dark mode for focus states */
.dark *:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Responsive theme adjustments */
@media (max-width: 768px) {
  .theme-mobile-nav {
    background-color: var(--color-bg-primary);
    border-top: 1px solid var(--color-border);
  }
  
  /* Mobile form optimizations */
  .theme-input {
    font-size: 16px; /* Prevents zoom on iOS */
    padding: 0.75rem;
  }
  
  .form-row {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  /* Mobile button optimizations */
  .btn-theme-primary,
  .btn-theme-secondary {
    padding: 0.75rem 1rem;
    min-height: 48px; /* Touch target minimum */
  }
  
  /* Mobile card adjustments */
  .theme-card {
    margin: 0.5rem;
    border-radius: 0.75rem;
  }
  
  .theme-card-hover:hover {
    transform: none; /* Disable hover animations on mobile */
  }
}

/* Tablet responsive adjustments */
@media (min-width: 769px) and (max-width: 1024px) {
  .form-row {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .theme-card {
    border-radius: 0.5rem;
  }
}

/* Desktop responsive adjustments */
@media (min-width: 1025px) {
  .form-row {
    gap: 1.5rem;
  }
  
  .theme-scrollbar {
    display: block;
  }
}

/* Print styles */
@media print {
  .theme-bg-primary,
  .theme-bg-secondary,
  .theme-bg-tertiary {
    background-color: white !important;
  }
  
  .theme-text-primary,
  .theme-text-secondary {
    color: black !important;
  }
  
  .btn-theme-primary,
  .btn-theme-secondary,
  .badge-success,
  .badge-warning,
  .badge-danger,
  .badge-info {
    background-color: transparent !important;
    color: black !important;
    border: 1px solid black !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .theme-border {
    border-width: 2px;
  }
  
  .theme-input:focus {
    box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.3);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .theme-transition,
  .theme-card-hover {
    transition: none !important;
  }
}

/* Animation for theme switching */
.theme-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar for themed containers */
.theme-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.theme-scrollbar::-webkit-scrollbar-track {
  background-color: var(--color-bg-secondary);
}

.theme-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--color-primary);
  border-radius: 3px;
}

.theme-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-primary-hover);
}

/* Responsive utility classes */
.responsive-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 640px) {
  .responsive-grid-sm {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 768px) {
  .responsive-grid-md {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .responsive-grid-lg {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1280px) {
  .responsive-grid-xl {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Responsive text utilities */
.responsive-text {
  font-size: 0.875rem; /* 14px */
}

@media (min-width: 768px) {
  .responsive-text {
    font-size: 1rem; /* 16px */
  }
}

@media (min-width: 1024px) {
  .responsive-text {
    font-size: 1.125rem; /* 18px */
  }
}

/* Responsive spacing utilities */
.responsive-padding {
  padding: 0.5rem;
}

@media (min-width: 768px) {
  .responsive-padding {
    padding: 1rem;
  }
}

@media (min-width: 1024px) {
  .responsive-padding {
    padding: 1.5rem;
  }
}

/* Container utilities */
.container-responsive {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

@media (min-width: 640px) {
  .container-responsive {
    padding: 0 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container-responsive {
    padding: 0 2rem;
  }
}